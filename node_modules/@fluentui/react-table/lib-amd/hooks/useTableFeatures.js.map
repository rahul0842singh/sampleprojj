{"version":3,"file":"useTableFeatures.js","sourceRoot":"","sources":["../../../../../../../../packages/react-components/react-table/src/hooks/useTableFeatures.ts"],"names":[],"mappings":";;;;IAaA,IAAM,kBAAkB,GAAgD,UAAA,GAAG,IAAI,OAAA,GAAG,EAAH,CAAG,CAAC;IAEtE,QAAA,iBAAiB,GAAgC;QAC5D,SAAS,EAAE,8CAA0B;QACrC,IAAI,EAAE,oCAAqB;QAC3B,OAAO,EAAE,cAAM,OAAA,EAAE,EAAF,CAAE;QACjB,QAAQ,EAAE,cAAM,OAAA,EAAE,EAAF,CAAE;QAClB,KAAK,EAAE,EAAE;QACT,OAAO,EAAE,EAAE;QACX,gEAAgE;QAChE,qBAAqB,EAAE,+CAAwB;QAC/C,QAAQ,EAAE,KAAK,CAAC,SAAS,EAAkB;KAC5C,CAAC;IAEF,SAAgB,gBAAgB,CAC9B,OAAuC,EACvC,OAAkC;QAAlC,wBAAA,EAAA,YAAkC;QAE1B,IAAA,KAAK,GAAwB,OAAO,MAA/B,EAAE,QAAQ,GAAc,OAAO,SAArB,EAAE,OAAO,GAAK,OAAO,QAAZ,CAAa;QAE7C,IAAM,OAAO,GAAG,UACd,WAAiE;YAAjE,4BAAA,EAAA,cAAc,kBAAmD;YAC9D,OAAA,KAAK,CAAC,GAAG,CAAC,UAAC,IAAI,EAAE,CAAC,YAAK,OAAA,WAAW,CAAC,EAAE,IAAI,MAAA,EAAE,KAAK,EAAE,MAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAG,IAAI,CAAC,mCAAI,CAAC,EAAE,CAAC,CAAA,EAAA,CAAC;QAA3E,CAA2E,CAAC;QAEjF,IAAM,YAAY,GAA8B;YAC9C,QAAQ,UAAA;YACR,KAAK,OAAA;YACL,OAAO,SAAA;YACP,OAAO,SAAA;YACP,SAAS,EAAE,8CAA0B;YACrC,IAAI,EAAE,oCAA8C;YACpD,gEAAgE;YAChE,qBAAqB,EAAE,+CAAwB;YAC/C,QAAQ,EAAE,KAAK,CAAC,SAAS,EAAE;SAC5B,CAAC;QAEF,OAAO,OAAO,CAAC,MAAM,CAAC,UAAC,KAAK,EAAE,MAAM,IAAK,OAAA,MAAM,CAAC,KAAK,CAAC,EAAb,CAAa,EAAE,YAAY,CAAC,CAAC;IACxE,CAAC;IAvBD,4CAuBC","sourcesContent":["import * as React from 'react';\nimport type {\n  UseTableFeaturesOptions,\n  TableFeaturesState,\n  TableRowData,\n  RowEnhancer,\n  TableFeaturePlugin,\n  TableSortState,\n} from './types';\nimport { defaultTableSelectionState } from './useTableSelection';\nimport { defaultTableSortState } from './useTableSort';\nimport { defaultColumnSizingState } from './useTableColumnSizing';\n\nconst defaultRowEnhancer: RowEnhancer<unknown, TableRowData<unknown>> = row => row;\n\nexport const defaultTableState: TableFeaturesState<unknown> = {\n  selection: defaultTableSelectionState,\n  sort: defaultTableSortState,\n  getRows: () => [],\n  getRowId: () => '',\n  items: [],\n  columns: [],\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  columnSizing_unstable: defaultColumnSizingState,\n  tableRef: React.createRef<HTMLDivElement>(),\n};\n\nexport function useTableFeatures<TItem>(\n  options: UseTableFeaturesOptions<TItem>,\n  plugins: TableFeaturePlugin[] = [],\n): TableFeaturesState<TItem> {\n  const { items, getRowId, columns } = options;\n\n  const getRows = <TRowState extends TableRowData<TItem>>(\n    rowEnhancer = defaultRowEnhancer as RowEnhancer<TItem, TRowState>,\n  ) => items.map((item, i) => rowEnhancer({ item, rowId: getRowId?.(item) ?? i }));\n\n  const initialState: TableFeaturesState<TItem> = {\n    getRowId,\n    items,\n    columns,\n    getRows,\n    selection: defaultTableSelectionState,\n    sort: defaultTableSortState as TableSortState<TItem>,\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    columnSizing_unstable: defaultColumnSizingState,\n    tableRef: React.createRef(),\n  };\n\n  return plugins.reduce((state, plugin) => plugin(state), initialState);\n}\n"]}